<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
<title>Re:@rojafreese</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    background: black;
    touch-action: manipulation;
    background-image: url('https://lh3.googleusercontent.com/d/1M2GD6srQFFO8Qt6YkYhHLyiFLj4NJbpo=s3000');
    background-size: cover;
    background-position: center;
}
#app {
    width: 100vw;
    height: 100vh;
    aspect-ratio: 9 / 16;
    position: relative;
    overflow: hidden;
}
.screen {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 100%;
    background-size: cover;
    background-position: center;
    transition: left 0.4s ease;
}
.centrado {
  background-size: cover;
  background-position: center;
}
.screen.active {
    left: 0;
}
.screen.prev {
    left: -100%;
}
#pantalla1 {
    left: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}
#startBtn {
    width: 200px;
    height: 200px;
    background-image: url('https://lh3.googleusercontent.com/d/14BziHg9m6fppID3yaoXMM39eozzwP7_i=s3000');
    background-size: cover;
    background-position: center;
    border: none;
    background-color: transparent;
}
.overlay-img {
    position: absolute;
    width: 60%;
    max-width: 400px;
    display: none;
}
.overlay-img.visible {
    display: block;
}
#player {
    position: absolute;
    width: 0;
    height: 0;
    opacity: 0;
}
</style>
</head>
<body>
<div id="app">
    <div class="screen active centrado" id="pantalla1" style="background-image:url('https://lh3.googleusercontent.com/d/1gtqjoKeA8ywKN_eMzXLtw7Pb4-RMULLi=s3000')">
        <button id="startBtn"></button>
    </div>
    <div id="screensContainer"></div>
    <div id="player"></div>
</div>
<script src="https://www.youtube.com/iframe_api"></script>
<script>
let currentScreen = 0;
let totalScreens = 20;
let startX = 0;
let endX = 0;
let player;
const container = document.getElementById("screensContainer");
for (let i = 1; i <= totalScreens; i++) {
    let screen = document.createElement("div");
    screen.className = "screen";
    screen.style.backgroundImage = `url('img/fondo${i+1}.jpg')`;

    let overlay = document.createElement("img");
    overlay.src = `img/overlay${i}.png`;
    overlay.className = "overlay-img";

    screen.appendChild(overlay);

    screen.addEventListener("click", () => {
        overlay.classList.toggle("visible");
    });

    container.appendChild(screen);
}
const screens = document.querySelectorAll(".screen");
function showScreen(index) {
    screens.forEach((s, i) => {
        s.classList.remove("active", "prev");

        if (i === index) s.classList.add("active");
        if (i < index) s.classList.add("prev");
    });
}
document.addEventListener("touchstart", e => {
    startX = e.changedTouches[0].screenX;
});
document.addEventListener("touchend", e => {
    endX = e.changedTouches[0].screenX;
    handleSwipe();
});
function handleSwipe() {
    if (startX - endX > 50 && currentScreen < totalScreens) {
        currentScreen++;
        showScreen(currentScreen);
    }
    if (endX - startX > 50 && currentScreen > 1) {
        currentScreen--;
        showScreen(currentScreen);
    }
}
async function goFullScreen() {
    let elem = document.documentElement;

    if (elem.requestFullscreen) {
        await elem.requestFullscreen();
    }

    if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock("portrait").catch(()=>{});
    }
}
document.getElementById("startBtn").addEventListener("click", async () => {
    await goFullScreen();
    player.playVideo();
    player.setVolume(90);
    document.getElementById("pantalla1").style.display = "none";
    currentScreen = 1;
    showScreen(currentScreen);
});
function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        height: '0',
        width: '0',
        playerVars: {
            listType: 'playlist',
            list: 'PLTsg_kaNc_ZasueBaDjzfOzcXnNnLAmam',
            autoplay: 0,
            controls: 0,
            loop: 1,
            playlist: 'PLTsg_kaNc_ZasueBaDjzfOzcXnNnLAmam'
        },
        events: {
            onReady: (event) => {
                event.target.setShuffle(true);
                event.target.setLoop(true);
            }
        }
    });
}
</script>
</body>
</html>